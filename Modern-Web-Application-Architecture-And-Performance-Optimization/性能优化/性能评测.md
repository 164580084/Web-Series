[![章节头](https://parg.co/UGp)](https://parg.co/UGZ) 
 - [Web 应用性能评测](#web-%E5%BA%94%E7%94%A8%E6%80%A7%E8%83%BD%E8%AF%84%E6%B5%8B)
- [测试工具](#%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7)
- [页面访问](#%E9%A1%B5%E9%9D%A2%E8%AE%BF%E9%97%AE)
- [用户交互体验](#%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BD%93%E9%AA%8C)
- [页面可用性](#%E9%A1%B5%E9%9D%A2%E5%8F%AF%E7%94%A8%E6%80%A7)
- [前端性能监控当我们讨论前端性能时，我们往往关注的性能指标包括:- 白屏时间（first Paint Time）——用户从打开页面开始到页面开始有东西呈现为止- 首屏时间——用户浏览器首屏内所有内容都呈现出来所花费的时间- 用户可操作时间(dom Interactive)——用户可以进行正常的点击、输入等操作，默认可以统计domready时间，因为通常会在这时候绑定事件操作- 总下载时间——页面所有资源都加载完成并呈现出来所花的时间，即页面 onload 的时间](#%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7%E5%BD%93%E6%88%91%E4%BB%AC%E8%AE%A8%E8%AE%BA%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E6%97%B6%E6%88%91%E4%BB%AC%E5%BE%80%E5%BE%80%E5%85%B3%E6%B3%A8%E7%9A%84%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87%E5%8C%85%E6%8B%AC--%E7%99%BD%E5%B1%8F%E6%97%B6%E9%97%B4first-paint-time%E7%94%A8%E6%88%B7%E4%BB%8E%E6%89%93%E5%BC%80%E9%A1%B5%E9%9D%A2%E5%BC%80%E5%A7%8B%E5%88%B0%E9%A1%B5%E9%9D%A2%E5%BC%80%E5%A7%8B%E6%9C%89%E4%B8%9C%E8%A5%BF%E5%91%88%E7%8E%B0%E4%B8%BA%E6%AD%A2--%E9%A6%96%E5%B1%8F%E6%97%B6%E9%97%B4%E7%94%A8%E6%88%B7%E6%B5%8F%E8%A7%88%E5%99%A8%E9%A6%96%E5%B1%8F%E5%86%85%E6%89%80%E6%9C%89%E5%86%85%E5%AE%B9%E9%83%BD%E5%91%88%E7%8E%B0%E5%87%BA%E6%9D%A5%E6%89%80%E8%8A%B1%E8%B4%B9%E7%9A%84%E6%97%B6%E9%97%B4--%E7%94%A8%E6%88%B7%E5%8F%AF%E6%93%8D%E4%BD%9C%E6%97%B6%E9%97%B4dom-interactive%E7%94%A8%E6%88%B7%E5%8F%AF%E4%BB%A5%E8%BF%9B%E8%A1%8C%E6%AD%A3%E5%B8%B8%E7%9A%84%E7%82%B9%E5%87%BB%E8%BE%93%E5%85%A5%E7%AD%89%E6%93%8D%E4%BD%9C%E9%BB%98%E8%AE%A4%E5%8F%AF%E4%BB%A5%E7%BB%9F%E8%AE%A1domready%E6%97%B6%E9%97%B4%E5%9B%A0%E4%B8%BA%E9%80%9A%E5%B8%B8%E4%BC%9A%E5%9C%A8%E8%BF%99%E6%97%B6%E5%80%99%E7%BB%91%E5%AE%9A%E4%BA%8B%E4%BB%B6%E6%93%8D%E4%BD%9C--%E6%80%BB%E4%B8%8B%E8%BD%BD%E6%97%B6%E9%97%B4%E9%A1%B5%E9%9D%A2%E6%89%80%E6%9C%89%E8%B5%84%E6%BA%90%E9%83%BD%E5%8A%A0%E8%BD%BD%E5%AE%8C%E6%88%90%E5%B9%B6%E5%91%88%E7%8E%B0%E5%87%BA%E6%9D%A5%E6%89%80%E8%8A%B1%E7%9A%84%E6%97%B6%E9%97%B4%E5%8D%B3%E9%A1%B5%E9%9D%A2-onload-%E7%9A%84%E6%97%B6%E9%97%B4)
- [DOM 性能监控## 白屏时间我们通常认为的白屏时间计算方式为:白屏时间=开始渲染时间(首字节时间+HTML下载完成时间)+头部资源加载时间。在高版本的Chrome中，我们可以通过``` window.chrome.loadTimes().firstPaintTime ```这个对象来获取:```{](#dom-%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7%23%23-%E7%99%BD%E5%B1%8F%E6%97%B6%E9%97%B4%E6%88%91%E4%BB%AC%E9%80%9A%E5%B8%B8%E8%AE%A4%E4%B8%BA%E7%9A%84%E7%99%BD%E5%B1%8F%E6%97%B6%E9%97%B4%E8%AE%A1%E7%AE%97%E6%96%B9%E5%BC%8F%E4%B8%BA%E7%99%BD%E5%B1%8F%E6%97%B6%E9%97%B4%E5%BC%80%E5%A7%8B%E6%B8%B2%E6%9F%93%E6%97%B6%E9%97%B4%E9%A6%96%E5%AD%97%E8%8A%82%E6%97%B6%E9%97%B4html%E4%B8%8B%E8%BD%BD%E5%AE%8C%E6%88%90%E6%97%B6%E9%97%B4%E5%A4%B4%E9%83%A8%E8%B5%84%E6%BA%90%E5%8A%A0%E8%BD%BD%E6%97%B6%E9%97%B4%E5%9C%A8%E9%AB%98%E7%89%88%E6%9C%AC%E7%9A%84chrome%E4%B8%AD%E6%88%91%E4%BB%AC%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87-windowchromeloadtimesfirstpainttime-%E8%BF%99%E4%B8%AA%E5%AF%B9%E8%B1%A1%E6%9D%A5%E8%8E%B7%E5%8F%96) 

# Web 应用性能评测
这里我们统一地对于性能评测的工具与量化指标进行讨论，而后续文章中提到的很多优化点也可以作为评测的指标之一。
白屏时间；首屏时间；用户可交互时间；总下载时间；DNS解析时间；TCP连接时间；HTTP请求时间；HTTP响应时间；

# 测试工具
# 页面访问
# 用户交互体验
# 页面可用性
# 前端性能监控当我们讨论前端性能时，我们往往关注的性能指标包括:- 白屏时间（first Paint Time）——用户从打开页面开始到页面开始有东西呈现为止- 首屏时间——用户浏览器首屏内所有内容都呈现出来所花费的时间- 用户可操作时间(dom Interactive)——用户可以进行正常的点击、输入等操作，默认可以统计domready时间，因为通常会在这时候绑定事件操作- 总下载时间——页面所有资源都加载完成并呈现出来所花的时间，即页面 onload 的时间
我们需要在用户输入 URL 或者点击链接的时候就开始统计，因为这样才能衡量用户的等待时间。高端浏览器Navigation Timing接口；普通浏览器通过 cookie 记录时间戳的方式来统计，需要注意的是 Cookie 方式只能统计到站内跳转的数据。

# DOM 性能监控## 白屏时间我们通常认为的白屏时间计算方式为:白屏时间=开始渲染时间(首字节时间+HTML下载完成时间)+头部资源加载时间。在高版本的Chrome中，我们可以通过``` window.chrome.loadTimes().firstPaintTime ```这个对象来获取:```{
  connectionInfo: "http/1",
  finishDocumentLoadTime: 1422412260.278667,
  finishLoadTime: 1422412261.083637,
  firstPaintAfterLoadTime: 1422412261.094726,
  firstPaintTime: 1422412258.085214,
  navigationType: "Reload",
  npnNegotiatedProtocol: "unknown",
  requestTime: 0,
  startLoadTime: 1422412256.920803,
  wasAlternateProtocolAvailable: false,
  wasFetchedViaSpdy: false,
  wasNpnNegotiated: false
}```那么实际上在Chrome中的计算时间为:`(chrome.loadTimes().firstPaintTime - chrome.loadTimes().startLoadTime)*1000`。大部分浏览器没有特定函数，必须想其他办法来监测。仔细观察 WebPagetest 视图分析发现，白屏时间出现在头部外链资源加载完附近，因为浏览器只有加载并解析完头部资源才会真正渲染页面。基于此我们可以通过获取头部资源加载完的时 刻来近似统计白屏时间。尽管并不精确，但却考虑了影响白屏的主要因素：首字节时间和头部资源加载时间（HTML下载完成时间非常微小）。![](http://img4.07net01.com/upload/images/2016/09/07/348706070643491.png)有一个点:mod_36ad799.js等几个js为什么会在hm.js之前下载？html代码如下:
![](http://img4.07net01.com/upload/images/2016/09/07/348706070643492.png)



